<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<script class="jquery library" src="/js/sandbox/jquery/jquery-1.8.2.min.js" type="text/javascript"></script>
	<title>RunJS 演示代码</title>
	
	<style>
	body{
	padding:0px;
	margin:0px;
}

.container{
	position:relative;
}

.box{
	padding:5px;
	float:left;
}

.box_img{
	padding:5px;
	border:2px solid red;
	box-shadow:0 0 10px red;
	border-radius:10px;
}

.box_img img{
	width:200px;
	height:auto;
	border-radius:10px;
}
	</style>
	<script>
	window.onload = function(){
	imgLocation("container","box");
}
	//通过父级空间传入子级空间
	function imgLocation(parent,content){
		//将parent下所有元素取出
		var cparent = document.getElementById(parent);
		
		//得到器里面每一个空间
		var ccontent = getChildElement(cparent,content);
//计算图片宽度
		var imgWidth = ccontent[0].offsetWidth;
		var cols= Math.floor(document.documentElement.clientWidth / imgWidth);
		
		//固定化
		cparent.style.cssText = "width:"+imgWidth*cols+"px;margin:0 auto";
	}
//得到每一个空间的方法
function getChildElement(parent,content){
	var contentArr = [];
	var allcontent = parent.getElementsByTagName("*");
	for(var i=0;i<allcontent.length;i++)
	{
		if(allcontent[i].className==content)
			 {contentArr.push(allcontent[i]);}
	}
return contentArr;
}
	</script>
  </head>
<body>
	
	<div class="container">
		<div class="box">
			<div class="box_img">
				<img src="http://pic36.nipic.com/20131224/8803505_155014514000_2.jpg">
				
			</div>
			</div>
		<div class="box">
			<div class="box_img">
				<img src="http://pic36.nipic.com/20131224/8803505_155014514000_2.jpg">
				
			</div>
			</div>
		<div class="box">
			<div class="box_img">
				<img src="http://pic36.nipic.com/20131224/8803505_155014514000_2.jpg">
				
			</div>
			</div>
		<div class="box">
			<div class="box_img">
				<img src="http://pic36.nipic.com/20131224/8803505_155014514000_2.jpg">
				
			</div>
			</div>
		<div class="box">
			<div class="box_img">
				<img src="http://pic36.nipic.com/20131224/8803505_155014514000_2.jpg">
				
			</div>
			</div>
		<div class="box">
			<div class="box_img">
				<img src="http://pic36.nipic.com/20131224/8803505_155014514000_2.jpg">
				
			</div>
			</div>
		<div class="box">
			<div class="box_img">
				<img src="http://pic36.nipic.com/20131224/8803505_155014514000_2.jpg">
				
			</div>
			</div>
		<div class="box">
			<div class="box_img">
				<img src="http://pic36.nipic.com/20131224/8803505_155014514000_2.jpg">
				
			</div>
			</div>
		<div class="box">
			<div class="box_img">
				<img src="http://pic36.nipic.com/20131224/8803505_155014514000_2.jpg">
				
			</div>
			</div>
		<div class="box">
			<div class="box_img">
				<img src="http://pic36.nipic.com/20131224/8803505_155014514000_2.jpg">
				
			</div>
			</div>
		
		</div>
	</div>
	
  </body>
</html>
